# Фабричный метод
***
Фабричный метод - это порождающий паттерн проектирования, который определяет общий интерфейс для создания объектов в суперклассе, позволяя подклассам изменять тип создаваемых объектов.
***
## Проблема
Представим, что мы хотим разработать программу, которая отвечает за управление грузовыми перевозками. Сперва расчитываем на то, что перевозка будет только на автомобилях, поэтому создали класс Грузовик и объекты от него.
Но далее мы хотим внедрить в нашу программу перевозку по морю или по воздуху. Код жестко привязан к классу Грузовик и его объектам.
## Решение
Фабричный метод предлагает создавать объекты не через оператор new, а через вызов фабричного метода.
***
![](imgs/solution1.png)

Подклассы могут изменять класс создаваемых объектов.

![](imgs/solution2.png)

Классы должны реализовывать общий интерфейс, но методы они реализуют по-своему. Например, грузовики везут по земле, суда - по морю.
***
## Структура

![](imgs/structure-indexed.png)

1. **Продукт** определяет общий интерфейс объектов, которые может произвести создатель и его подклассы.
2. **Конкретные продукты** содержат код различных продуктов. Продукты будут отличаться реализацией, но интерфейс будет общий.
3. **Создатель** объявляет фабричный метод, который должен возвращать новые объекты продуктов. Важно, чтобы тип результата совпадал с общим интерфейсом продуктов. Зачастую фабричный метод объявляют абстрактным, чтобы все подклассы его реализовали по-своему. Но он может и вовзращать некий стандартный продукт. Создание продуктов не единственная функция создателя, он также содержит и другой полезный код. Например, айти компания может обучать новичков-программистов в своей академии, но это не основная задача компании.
4. **Конкретные создатели** по-своему реализуют фабричный метод, проивзодя те или иные конкретные продукты. Фабричный метод не обязан все время создавать новые объекты. Его можно переписать так, чтобы возвращать существующие объекты из хранилища или кэша.

